<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ECharts 装修类型占比图</title>
  </head>
  <style>
    * {
      margin: 0;
      padding: 0;
    }

    body {
      background-color: #F0F8FF;
    }

    #box {
      margin: 80px auto;
      width: 1200px;
      height: 600px;
    }
  </style>

  <body>
    <div id="box"></div>
  </body>
  <script src="./js/echarts.min.js"></script>
  <script>
    // 初始化实例对象 echarts.init(dom)容器;
    var myChart = echarts.init(document.querySelector('#box'));
    // 指定配置项和数据

  var option = {
    title: {
      text: '装修类型占比图',
      left: 'center',
      // 修改标题为白色
      textStyle: {
        color: '#000000',
		lineHeight: 1050,
      },
    },
    // 颜色设置
    color: [
		'#f1707d',
		'#DDA0DD',
		'#B0E0E6',
		'#800080',
		'#4169E1',
    ],
    tooltip: {
      trigger: 'item',
      formatter: '{a} <br/>{b} : {d}%',
    },
    toolbox: {
		itemGap : 15,
		itemSize: 20,
		show: true,
		feature: {
		  dataView: { readOnly: false },
		  restore: {},
		  saveAsImage: {}
		}
	  },
	legend: {
		left: 'center',
		top: 'bottom',
		// 小图标的宽度和高度
		itemWidth: 20,
		itemHeight: 10,
		// 修改图例组件的颜色和文字为 14 px
		textStyle: {
			color: '#000000',
			fontSize: '14',
		    },
		},
	
    series: [
      {
		legendHoverLink : true,
		cursor : 'pointer',
        name: '房源占比',
        type: 'pie',
        radius: [30, 110],
        center: ['50%', '50%'],
        // 修改饼形图的显示模式
        // roseType: 'radius',
        // 修改内圆半径和外圆半径，百分比是相对于容器宽度来说的
        radius: ['10%', '60%'],
        data: [
          { value: 59.43, name: '精装修' },
          { value: 38.74, name: '简单装修'},
          { value: 1, name: '豪华装修' },
          { value: 0.46, name: '毛坯' },
          { value: 0.36, name: '其他' },  
        ],
		labelLayout: function (params) {
			const isLeft = params.labelRect.x < myChart.getWidth() / 2;
			const points = params.labelLinePoints;
			// Update the end point.
			points[2][0] = isLeft
			  ? params.labelRect.x
			  : params.labelRect.x + params.labelRect.width;
			return {
			  labelLinePoints: points
			};
		},
        label: {
          fontSize: 15,
		  alignTo : 'edge',
		  edgeDistance : '25%',
		  //formatter: '{{b}}\n{time|{d} %} ',
		  minMargin: 5,
          lineHeight: 15,
		  
        },
        labelLine: {
          length: 15,
          length2: 25,
          
        },
      },
    ],
};


    myChart.setOption(option);
  </script>
</html>
